# Simple Library with FastAPI and React


## Первоначальные данные
Для первоначального заполнения можно выставить переменную окружения INIT_DATA_TYPE (если переменная будет не указана, то начальные данные не будут загружаться). 
Допустимые значения переменной:
- "test_<кол-во авторов>_<кол-во книг>", в таком случае при инициализации базы данных 
будет сгенерировано указанное количество тестовых авторов и книг
- "json", в таком случае при инициализации базы данных будут загружены данные из файлов authors.json и 
books.json папки backend/init_data. Формат файлов:  
**authors.json**:  
```[
  {
    "name": "Лев",
    "surname": "Толстой",
    "birth_year": 1786,
    "id": 1
  },
  {
    "name": "Джоан Кэтлин",
    "surname": "Роулинг",
    "birth_year": 1965,
    "id": 2
  }
]
```
**books.json**:
```[
  {
    "name": "Война и мир",
    "author": 1,
    "isbn": "a-123asd-b",
    "issue_year": 1789,
    "page_count": 1234,
    "id": 1
  },
  {
    "name": "Гарри Поттер и философский камень",
    "author": 2,
    "isbn": "JKR-HP-1997",
    "issue_year": 1997,
    "page_count": 270,
    "id": 2
  }
]
```

## Запуск
В файле docker-compose.yaml задать необходимое значение переменным окружения:
 - INIT_DATA_TYPE(если надо подготовить json файлы)
 - REACT_APP_WS_ADDRESS - адрес сервера уведомлений по WS,  в формате <ip>:<port>  
 
Из корня выполнить команду: `docker-compose up`